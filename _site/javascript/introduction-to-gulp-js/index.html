<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Trent Hogan | Web Developer</title>
    <!-- Google Fonts -->
    <link href='http://fonts.googleapis.com/css?family=Ubuntu' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/3.2.1/css/font-awesome.min.css" media="all" rel="stylesheet" type="text/css">
    <!-- Styles -->
    <link href="/css/style.min.css" rel="stylesheet">

        <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
        <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->
        <!-- Google Tracking -->
        <script>
          (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
          })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

          ga('create', 'UA-50838132-1', 'trenthogan.github.io');
          ga('send', 'pageview');

        </script>
      </head>
      <body id="top">
        <header id="home">
          <nav>
            <div class="container-fluid">
              <div class="row">
                <div class="col-md-8 col-md-offset-2 col-sm-8 col-sm-offset-2 col-xs-8 col-xs-offset-2">
                  <nav id="pull" class="pull up">
                    <ul class="top-nav">
                      <li><a href="/">Home</a></li>
                      <li><a href="/#about">About</a></li>
                      <li><a href="/#portfolio">Portfolio</a></li>
                      <li><a href="/#contact">Get in Touch</a></li>
                      <li><a href="/posts/">Blog</a></li>
                    </ul>
                  </nav>
                </div>
              </div>
            </div>
          </nav>
          <section class="hero" id="hero">
            <div class="container">
              <div class="row">
                <div class="col-md-12 text-right navicon">
                  <a id="nav-toggle" class="nav_slide_button" href="#"><span></span></a>
                </div>
              </div>

        <section class="content cf">

        	<div class="row">
              
	            <div class="grid-full">
	                  
	               		   		  <div class="row">
                <div class="col-md-8 col-md-offset-2 text-center inner">
                  <h1 class="animated fadeIn">Gulp <span>JS</span></h1>
                  <p class="animated fadeIn delay-05s">Minifying Css & Javascript</em></p>
                </div>
              </div>
            </div>
            <a href="#about" class="down-btn"><i class="fa fa-chevron-down"></i></a>
          </section>
        </header>
        <section class="intro text-center section-padding" id="about">
          <div class="container">
            <div class="row post">
              <div class="col-md-8 col-md-offset-2">

				<div class="post-image">
				  <img src="/img/gulp.png" alt="Gulp Js" class="img-responsive" />
				</div>

                <p>After playing around with various task runners and build tools a couple of months ago I tried out Gulp Js.
It has quickly become my favourite. The syntax for me is easier to read than Grunt Json files and it offers much more flexibility than Codekit.</p>

<p>Here is a basic run through on how to setup Gulp to run a few basic tasks.</p>

<p>To use Gulp you will need to install <a href="http://nodejs.org/" title="Node JS">Node Js</a>. Download the installer <a href="http://nodejs.org/" title="Node JS">here</a> and it will get job done for you.</p>

<p>You can now install Gulp. I like to install it globally so in your terminal enter:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">npm install -g gulp</code></pre></div>

<p>Now we will need to install gulp locally for your project. In your project&#39;s root directory run.</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">npm install gulp</code></pre></div>

<p>Now you can create a file called: gulpfile.js and place it in your projects root dirctory. In it&#39;s most basic form your gulpfile.js could look like this:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">gulp</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;gulp&#39;</span><span class="p">);</span>

<span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="s1">&#39;default&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
     <span class="c1">// place code for your default task here</span>
<span class="p">});</span></code></pre></div>

<p>This won&#39;t actually run any tasks how ever so lets add a couple of plugins so we can get things moving.</p>

<p>First we are going to install <a href="https://www.npmjs.org/package/gulp-minify-css" title="Gulp Minify Css">gulp-minify-css.</a> Back into your terminal and enter:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">npm install gulp-minify-css</code></pre></div>

<p>The Node Package Manager (npm) will install the plugin for us.</p>

<p>After we minify our css we also want to rename the file before we save it. To do this we can grab another plugin:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">npm install gulp-rename</code></pre></div>

<p>Ok we have installed the two plugins we need to minify our css lets require them in our gulpfile.js and create a task to do the minifying.</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">//Required</span>
<span class="kd">var</span> <span class="nx">gulp</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;gulp&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">minifyCSS</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;gulp-minify-css&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">rename</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;gulp-rename&#39;</span><span class="p">);</span>

<span class="c1">//Minify Css</span>
<span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="s1">&#39;minify-css&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>

    <span class="nx">gulp</span><span class="p">.</span><span class="nx">src</span><span class="p">(</span><span class="s1">&#39;./css/main.css&#39;</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">minifyCSS</span><span class="p">())</span>
    <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">rename</span><span class="p">(</span><span class="s1">&#39;main.min.css&#39;</span><span class="p">))</span>
    <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">gulp</span><span class="p">.</span><span class="nx">dest</span><span class="p">(</span><span class="s1">&#39;./css/&#39;</span><span class="p">))</span>
    
<span class="p">});</span>

<span class="c1">//Default Gulp Task</span>
<span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="s1">&#39;default&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;minify-css&#39;</span><span class="p">]);</span></code></pre></div>

<p>When requiring plugins they can be assigned to variables so we can call them again later in our code by the assigned variable names. In this case minifyCSS and rename. We can then create a gulp.task assign it a name and pass it a function to run.</p>

<p>In our function we will first grab the file we want the task to target. In this case we are going to target a file called main.css in the css directory of our project. We can do this with gulp.src(&#39;./css/main.css&#39;). </p>

<p>Gulp can use the Node .pipe() funtion to process data. We can use this to run our funtions for this task. </p>

<p>Firstly we minify our css using .pipe(minifyCSS()) and then we use the rename plugin to save the minified css to another file with .pipe(rename(&#39;main.min.css&#39;)) so we keep our main.css file easy to work with for future development. </p>

<p>Finally we can use .pipe(gulp.dest(&#39;./css/&#39;)) to save our new file we are going to save it back into the css directory here.</p>

<p>Ok lets set a default task for Gulp to run. Set up a task and call it default and pass a javascript array of existing task names to run as the second parameter like so gulp.task(&#39;default&#39;, [&#39;minify-css&#39;]);</p>

<p>Now in the terminal in the root directory of you project enter</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">gulp</code></pre></div>

<p>and all your default tasks will be run. So for us we should have a nicely minified file in the css directory of our project named main.min.css.</p>

<p>Well thats our css sorted but what about our javascript? We can use npm again to install another plugin gulp-uglify to take care of this for us.</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">npm install gulp-uglify</code></pre></div>

<p>From here we can basically repeat the same process described above for the css to handle the js. Requiring the new plugin and creating a new function using the gulp-uglify plugin.</p>

<p>Our gulpfile.js should now look like this:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">//Required</span>
<span class="kd">var</span> <span class="nx">gulp</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;gulp&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">minifyCSS</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;gulp-minify-css&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">rename</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;gulp-rename&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">uglify</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;gulp-uglify&#39;</span><span class="p">);</span>

<span class="c1">//Minify Css</span>
<span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="s1">&#39;minify-css&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>

    <span class="nx">gulp</span><span class="p">.</span><span class="nx">src</span><span class="p">(</span><span class="s1">&#39;./css/main.css&#39;</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">minifyCSS</span><span class="p">())</span>
    <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">rename</span><span class="p">(</span><span class="s1">&#39;main.min.css&#39;</span><span class="p">))</span>
    <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">gulp</span><span class="p">.</span><span class="nx">dest</span><span class="p">(</span><span class="s1">&#39;./css/&#39;</span><span class="p">))</span>
    
<span class="p">});</span>

<span class="c1">//Uglify Js</span>
<span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="s1">&#39;compress-js&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">gulp</span><span class="p">.</span><span class="nx">src</span><span class="p">(</span><span class="s1">&#39;./js/script.js&#39;</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">uglify</span><span class="p">())</span>
    <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">rename</span><span class="p">(</span><span class="s1">&#39;script.min.js&#39;</span><span class="p">))</span>
    <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">gulp</span><span class="p">.</span><span class="nx">dest</span><span class="p">(</span><span class="s1">&#39;./js/&#39;</span><span class="p">))</span>
    
<span class="p">});</span>

<span class="c1">//Default Gulp Task</span>
<span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="s1">&#39;default&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;minify-css&#39;</span><span class="p">,</span> <span class="s1">&#39;compress-js&#39;</span><span class="p">]);</span></code></pre></div>

<p>Notice I added the compress-js task to the array in the second parameter of gulp.task(&#39;default&#39;, [&#39;minify-css&#39;, &#39;compress-js&#39;]);</p>

<p>Now run </p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">gulp</code></pre></div>

<p>again and we should have some minified javascript and css.</p>


				<br />
				<br />
                <a href="/posts/"><i class="fa fa-arrow-left"></i>  Back to all posts</a>

              </div>
            </div>
            <div class="row disqus_thread">
              <div class="col-md-8 col-md-offset-2">

                <div id="disqus_thread"></div>
			    <script type="text/javascript">
			        
			        var disqus_shortname = 'trenthogan';
			        var disqus_identifier = 'minifying-css-and-javascript';

			        /* * * DON'T EDIT BELOW THIS LINE * * */
			        (function() {
			            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
			            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
			            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
			        })();
			    </script>
              </div>
            </div>
          </div>
        </section>


	            </div>

            </div>
                                
        </section>

          

        <footer class="contact-wrap">
          <a href="#top" class="up-btn"><i class="fa fa-chevron-up"></i></a>
          <div class="container">
            <div class="row">
              <div class="col-md-12">
                <ul class="social-buttons">
                  <li><a href="https://github.com/trenthogan" class="social-btn"><i class="fa fa-github"></i></a></li>
                  <li><a href="https://twitter.com/trent001" class="social-btn"><i class="fa fa-twitter"></i></a></li>
                  <li><a href="https://www.linkedin.com/pub/trent-hogan/30/859/217" class="social-btn"><i class="fa fa-linkedin-square"></i></a></li>
                  <li><a href="mailto:trenthogan1@gmail.com" class="social-btn"><i class="fa fa-envelope"></i></a></li>
                </ul>
              </div>
            </div>
          </div>
          </div>
        </footer>

        <script src="/js/script.min.js"></script>

      </body>
    </html>
